<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: headFragment"></head>
<body>
  <div th:replace="fragments/nav :: navbar"></div>
  <section class="min-h-screen bg-gray-50 py-10">
    <div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-md">
      <h2 class="text-2xl font-bold mb-6 text-sky-700">User Dashboard</h2>
      <div class="mb-8">
        <h3 class="text-lg font-semibold mb-2">Welcome, <span th:text="${session.user?.name}">John Doe</span>!</h3>
        <p class="text-gray-600">Your dashboard overview and bookings are here.</p>
      </div>
      <div>
        <h4 class="text-md font-semibold mb-3">Upcoming Bookings</h4>
        <div th:if="${#lists.isEmpty(bookings)}">
            <p class="text-gray-500">No upcoming bookings found.</p>
        </div>
        <div th:unless="${#lists.isEmpty(bookings)}">
          <table class="min-w-full table-auto border-collapse border border-gray-200 mb-6">
            <thead class="bg-gray-100">
              <tr>
                <th class="border px-4 py-2 text-left">Flight</th>
                <th class="border px-4 py-2 text-left">From</th>
                <th class="border px-4 py-2 text-left">To</th>
                <th class="border px-4 py-2 text-left">Date</th>
                <th class="border px-4 py-2 text-left">Status</th>
              </tr>
            </thead>
            <tbody>
              <tr th:each="booking : ${bookings}">
                <td class="border px-4 py-2" th:text="${booking.flightNumber}">AL 205</td>
                <td class="border px-4 py-2" th:text="${booking.source}">JFK</td>
                <td class="border px-4 py-2" th:text="${booking.destination}">LHR</td>
                <td class="border px-4 py-2" th:text="${#temporals.format(booking.departureTime, 'dd MMM yyyy HH:mm')}">28 Oct 2024 08:00</td>
                <td class="border px-4 py-2 text-green-700" th:text="${booking.status}">Confirmed</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div>
        <h4 class="text-md font-semibold mb-3">Profile Settings</h4>
        <form>
          <p class="text-gray-500">Profile editing functionality coming soon.</p>
        </form>
      </div>
    </div>
  </section>
  <div th:replace="fragments/footer :: footer"></div>
</body>
</html>
