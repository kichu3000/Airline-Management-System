<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: headFragment"></head>
<body>
    <div th:replace="fragments/nav :: navbar"></div>
    
    <section class="contact-section">
        <div class="container">
            <div class="contact-header">
                <h1>Get in Touch</h1>
                <p>Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible.</p>
            </div>
            
            <div class="contact-container">
                <div class="contact-form-wrapper">
                    <h2>Send Us a Message</h2>
                    
                    <div th:if="${successMessage}" class="alert alert-success" th:text="${successMessage}"></div>
                    <div th:if="${errorMessage}" class="alert alert-error" th:text="${errorMessage}"></div>
                    
                    <form th:action="@{/contact}" th:object="${contactMessage}" method="post" 
                          class="contact-form" onsubmit="return validateContactForm()">
                        
                        <div class="form-group">
                            <label for="name">Full Name *</label>
                            <input type="text" id="name" th:field="*{name}" 
                                   placeholder="Enter your full name" required>
                            <span id="nameError" class="error-message"></span>
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email Address *</label>
                            <input type="email" id="email" th:field="*{email}" 
                                   placeholder="your.email@example.com" required>
                            <span id="emailError" class="error-message"></span>
                        </div>
                        
                        <div class="form-group">
                            <label for="subject">Subject *</label>
                            <input type="text" id="subject" th:field="*{subject}" 
                                   placeholder="What is this regarding?" required>
                            <span id="subjectError" class="error-message"></span>
                        </div>
                        
                        <div class="form-group">
                            <label for="message">Message *</label>
                            <textarea id="message" th:field="*{message}" rows="6" 
                                      placeholder="Type your message here..." required></textarea>
                            <span id="messageError" class="error-message"></span>
                        </div>
                        
                        <button type="submit" class="btn btn-primary btn-large">
                            Send Message
                        </button>
                    </form>
                </div>
                
                <div class="contact-info-wrapper">
                    <h2>Contact Information</h2>
                    
                    <div class="info-card">
                        <div class="info-icon">üìß</div>
                        <h3>Email</h3>
                        <p>support@quinjet.com</p>
                        <p>info@quinjet.com</p>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-icon">üìû</div>
                        <h3>Phone</h3>
                        <p>+1 (555) 123-4567</p>
                        <p>Mon-Fri, 9AM-6PM EST</p>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-icon">üìç</div>
                        <h3>Address</h3>
                        <p>123 Aviation Boulevard</p>
                        <p>New York, NY 10001</p>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-icon">üïí</div>
                        <h3>Business Hours</h3>
                        <p>Monday - Friday: 9AM - 6PM</p>
                        <p>Saturday: 10AM - 4PM</p>
                        <p>Sunday: Closed</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <div th:replace="fragments/footer :: footerFragment"></div>
    
    <script>
        function validateContactForm() {
            let isValid = true;
            
            // Clear previous errors
            document.querySelectorAll('.error-message').forEach(el => el.textContent = '');
            
            // Validate name
            const name = document.getElementById('name').value.trim();
            if (name.length < 2) {
                document.getElementById('nameError').textContent = 'Name must be at least 2 characters';
                isValid = false;
            }
            
            // Validate email
            const email = document.getElementById('email').value.trim();
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                document.getElementById('emailError').textContent = 'Please enter a valid email address';
                isValid = false;
            }
            
            // Validate subject
            const subject = document.getElementById('subject').value.trim();
            if (subject.length < 3) {
                document.getElementById('subjectError').textContent = 'Subject must be at least 3 characters';
                isValid = false;
            }
            
            // Validate message
            const message = document.getElementById('message').value.trim();
            if (message.length < 10) {
                document.getElementById('messageError').textContent = 'Message must be at least 10 characters';
                isValid = false;
            }
            
            return isValid;
        }
    </script>
</body>
</html>