
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: headFragment"></head>
<body>
  <div th:replace="fragments/nav :: navbar"></div>
  <section class="min-h-screen bg-gray-50 py-10">
    <div class="max-w-7xl mx-auto flex">
      <!-- Sidebar Navigation -->
      <aside class="w-64 bg-white rounded-lg shadow p-6 mr-10">
        <nav>
          <ul>
            <li class="mb-3"><a th:href="@{/admin}" th:classappend="${activeTab == 'home'} ? 'font-bold text-sky-600' : ''">Dashboard</a></li>
            <li class="mb-3"><a th:href="@{/admin/flights}" th:classappend="${activeTab == 'flights'} ? 'font-bold text-sky-600' : ''">Manage Flights</a></li>
            <li class="mb-3"><a th:href="@{/admin/airplanes}" th:classappend="${activeTab == 'airplanes'} ? 'font-bold text-sky-600' : ''">Manage Airplanes</a></li>
            <li class="mb-3"><a th:href="@{/admin/users}" th:classappend="${activeTab == 'users'} ? 'font-bold text-sky-600' : ''">All Users</a></li>
            <li class="mb-3"><a th:href="@{/admin/bookings}" th:classappend="${activeTab == 'bookings'} ? 'font-bold text-sky-600' : ''">Bookings</a></li>
            <li class="mb-3"><a th:href="@{/admin/messages}" th:classappend="${activeTab == 'messages'} ? 'font-bold text-sky-600' : ''">Contact Messages</a></li>
            <li><a th:href="@{/admin/profile}" th:classappend="${activeTab == 'profile'} ? 'font-bold text-sky-600' : ''">Profile</a></li>
          </ul>
        </nav>
      </aside>
      <!-- Main Content -->
      <div class="flex-1">
        <!-- Dashboard Home -->
        <div th:if="${activeTab == 'home'}">
          <h2 class="text-2xl font-bold mb-8">Admin Dashboard</h2>
          <p class="text-gray-700">Welcome to the admin dashboard. Use the menu to manage system data.</p>
        </div>
        <!-- Flights Management -->
        <div th:if="${activeTab == 'flights'}">
          <h3 class="text-xl font-semibold mb-6">Manage Flights</h3>
          <p class="mb-4">Flight management goes here.</p>
        </div>
        <!-- Airplane Management -->
        <div th:if="${activeTab == 'airplanes'}">
          <h3 class="text-xl font-semibold mb-6">Manage Airplanes</h3>
          <div th:if="${successMessage}" class="mb-2 text-green-600" th:text="${successMessage}"></div>
          <div th:if="${errorMessage}" class="mb-2 text-red-600" th:text="${errorMessage}"></div>
          <form th:action="@{/admin/airplanes}" th:object="${newAirplane}" method="post" class="mb-8 flex gap-4">
            <input type="text" placeholder="Airplane ID" th:field="*{airplaneId}" required class="border p-2 rounded">
            <input type="text" placeholder="Model" th:field="*{model}" required class="border p-2 rounded">
            <input type="number" placeholder="Capacity" th:field="*{capacity}" min="1" required class="border p-2 rounded">
            <select th:field="*{status}" required class="border p-2 rounded">
              <option value="">Status</option>
              <option value="Active">Active</option>
              <option value="Maintenance">Maintenance</option>
              <option value="Retired">Retired</option>
            </select>
            <button type="submit" class="bg-sky-600 text-white px-4 py-2 rounded">Add</button>
          </form>
          <table class="min-w-full table-auto border-collapse border border-gray-200 mb-6">
            <thead class="bg-gray-100">
              <tr>
                <th class="border px-4 py-2 text-left">ID</th>
                <th class="border px-4 py-2 text-left">Airplane ID</th>
                <th class="border px-4 py-2 text-left">Model</th>
                <th class="border px-4 py-2 text-left">Capacity</th>
                <th class="border px-4 py-2 text-left">Status</th>
                <th class="border px-4 py-2 text-left">Created At</th>
                <th class="border px-4 py-2 text-left">Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr th:each="airplane : ${airplanes}">
                <td th:text="${airplane.id}" class="border px-4 py-2">1</td>
                <td th:text="${airplane.airplaneId}" class="border px-4 py-2">QJ-101</td>
                <td th:text="${airplane.model}" class="border px-4 py-2">Boeing 737</td>
                <td th:text="${airplane.capacity}" class="border px-4 py-2">180</td>
                <td th:text="${airplane.status}" class="border px-4 py-2">Active</td>
                <td th:text="${#temporals.format(airplane.createdAt,'yyyy-MM-dd HH:mm')}" class="border px-4 py-2">2025-10-26 11:00</td>
                <td class="border px-4 py-2">
                  <form th:action="@{/admin/airplanes/delete/{id}(id=${airplane.id})}" method="post" style="display:inline;">
                    <button type="submit" class="text-red-600 hover:underline">Delete</button>
                  </form>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- Users Management -->
        <div th:if="${activeTab == 'users'}">
          <h3 class="text-xl font-semibold mb-6">All Users</h3>
          <p>Users management table goes here.</p>
        </div>
        <!-- Bookings Management -->
        <div th:if="${activeTab == 'bookings'}">
          <h3 class="text-xl font-semibold mb-6">All Bookings</h3>
          <p>Bookings management table goes here.</p>
        </div>
        <!-- Contact Messages -->
        <div th:if="${activeTab == 'messages'}">
          <h3 class="text-xl font-semibold mb-6">Contact Messages</h3>
          <table class="min-w-full table-auto border-collapse border border-gray-200 mb-6">
            <thead class="bg-gray-100">
              <tr>
                <th class="border px-4 py-2 text-left">ID</th>
                <th class="border px-4 py-2 text-left">Name</th>
                <th class="border px-4 py-2 text-left">Email</th>
                <th class="border px-4 py-2 text-left">Subject</th>
                <th class="border px-4 py-2 text-left">Message</th>
                <th class="border px-4 py-2 text-left">Date</th>
              </tr>
            </thead>
            <tbody>
              <tr th:each="msg : ${messages}">
                <td th:text="${msg.id}" class="border px-4 py-2">1</td>
                <td th:text="${msg.name}" class="border px-4 py-2">John Doe</td>
                <td th:text="${msg.email}" class="border px-4 py-2">john@example.com</td>
                <td th:text="${msg.subject}" class="border px-4 py-2">Message subject</td>
                <td th:text="${#strings.abbreviate(msg.message, 50)}" class="border px-4 py-2">Preview...</td>
                <td th:text="${#temporals.format(msg.createdAt,'yyyy-MM-dd HH:mm')}" class="border px-4 py-2">2025-10-26 11:00</td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- Profile -->
        <div th:if="${activeTab == 'profile'}">
          <h3 class="text-xl font-semibold mb-6">Profile Settings</h3>
          <form>
            <p class="text-gray-500">Profile editing form coming soon.</p>
          </form>
        </div>
      </div>
    </div>
  </section>
  <div th:replace="fragments/footer :: footer"></div>
</body>
</html>
